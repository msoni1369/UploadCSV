{% load static %}<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>{% block title %}Default Title{% endblock %}</title>
    {% block stylesheet %}{% endblock %}
  </head>
  <body>
    <header>
      ...
    </header>
    <main>
       <form method="post" data-validate-username-url="{% url 'validate_username' %}">
    {% csrf_token %}
 
    <!--<form method="post" data-validate-username-url="/ajax_calls/validate_username/">-->
    
    <input type="hidden" name="csrfmiddlewaretoken" value="IXFmsqae17eQvduok8bG2NftMmKEowldbwoMp7wTV2Ks62CiZGiFYdEfwELylK5P">
    <p>
      <label for="id_username">Username:</label> 
      <input type="text" name="username" maxlength="150" autofocus="" required="" id="id_username" class="form-control basicAutoComplete" > <span class="helptext">Required. 150 characters or fewer. Letters, digits and @/./+/-/_ only.</span>
    </p>
    <p>
      <label for="id_password1">Password:</label>
      <input type="password" name="password1" required="" id="id_password1"> <span class="helptext"></span>
    </p>
    <ul>
      <li>Your password can't be too similar to your other personal information.</li>
      <li>Your password must contain at least 8 characters.</li>
      <li>Your password can't be a commonly used password.</li>
      <li>Your password can't be entirely numeric.</li>
    </ul>
    
    <p>
      
    </p>
  
    <p>
      <label for="id_password2">Password confirmation:</label>
      <input type="password" name="password2" required="" id="id_password2"> <span class="helptext">Enter the same password as before, for verification.</span>
    </p>

    <button type="submit">Sign up</button>
  </form>


    </main>
    <footer>
      ...
    </footer>

 
 
<link rel="stylesheet" href="http://code.jquery.com/ui/1.8.18/themes/base/jquery-ui.css" type="text/css" media="all" />
 <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"> </script> 
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/jquery-ui.min.js" type="text/javascript"></script>


<script>
       /* 
          var form = $(this).closest("form");
          
            $("#id_username").autocomplete({
              $.ajax({
                source: "ajax_calls/validate_username/",
                url: form.attr("data-validate-username-url"),
                data: form.serialize(),
                dataType: 'json',
                minLength: 2,
                open: function(data){
                    setTimeout(function () {
                        $('.ui-autocomplete').css('z-index', 99);
                    }, 0);
                }
              });
          )};
          });  */

    
$(document).ready(function(){ 
    $("#id_username").change(function () {
      var form = $(this).closest("form");
      $.ajax({
        url: form.attr("data-validate-username-url"),
        data: form.serialize(),
        //dataType: 'json',
        success: function me(data) {
                  
                  alert(data);
                
              }
        open: function(){
                    setTimeout(function () {
                        $('.ui-autocomplete').css('z-index', 99);
                    }, 0);
                }
        });  
              
      });
    });

   

      
  
</script>



  </body>
</html>